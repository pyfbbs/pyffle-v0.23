## petscii


petscii = {
	0x00: [],
	0x01: [],
	0x02: [],
	0x03: [],
	0x04: [], 
	0x05: ["{WHT}"],
	0x06: [],
	0x07: [],
	0x08: ["{SHIFT ENABLE}"],
	0x09: ["{SHIFT DISABLE}"],
	0x0a: [],
	0x0b: [],
	0x0c: [],
	0x0d: ["\r"],
	0x0e: ["{TEXTMODE}"],
	0x0f: [],
	0x10: [],
	0x11: ["{DOWN}"],
	0x12: ["{RVSON}"],
	0x13: ["{HOME}"],
	0x14: ["\x7f"],
	0x15: [],	
	0x16: [],	
	0x17: [],	
	0x18: [],	
	0x19: [], 	
	0x1a: [],
	0x1b: [],
	0x1c: ["{RED}"],
	0x1d : ["{RIGHT}"],	
	0x1e : ["{GRN}"],
	0x1f : ["{BLU}"],
	0x20: [" "],	
	0x21: ["!"],	
	0x22: ['"'],
	0x23: ["#"],
	0x24: ["$"],	
	0x25: ["%"],	
	0x26: ["&"],	
	0x27: ["'"],	
	0x28: ["("],	
	0x29: [")"],	
	0x2a: ["*"],	
	0x2b: ["+"],	
	0x2c: [","],	
	0x2d: ["-"],	
	0x2e: ["."],	
	0x2f: ["/"],
	0x30: ["0"],	
	0x31: ["1"],	
	0x32: ["2"],	
	0x33: ["3"],	
	0x34: ["4"],	
	0x35: ["5"],	
	0x36: ["6"],	
	0x37: ["7"],	
	0x38: ["8"],	
	0x39: ["9"],	
	0x3a: [":"],	
	0x3b: [";"],	
	0x3c: ["<"],	
	0x3d: ["="],	
	0x3e: [">"],	
	0x3f: ["?"],
	0x40 : ["@"],	
	0x41 : ["A", "a"],	
	0x42 : ["B", "b"],	
	0x43 : ["C", "c"],	
	0x44 : ["D", "d"],	
	0x45 : ["E", "e"],	
	0x46 : ["F", "f"],	
	0x47 : ["G", "g"],	
	0x48 : ["H", "h"],	
	0x49 : ["I", "i"],	
	0x4a : ["J", "j"],	
	0x4b : ["K", "k"],	
	0x4c : ["L", "l"],	
	0x4d : ["M", "m"],	
	0x4e : ["N", "n"],	
	0x4f : ["O", "o"],
	0x50: ["P", "p"],	
	0x51: ["Q", "q"],
	0x52: ["R", "r"],	
	0x53: ["S", "s"],	
	0x54: ["T", "t"],	
	0x55: ["U", "u"],	
	0x56: ["V", "v"],	
	0x57: ["W", "w"],	
	0x58: ["X", "x"],	
	0x59: ["Y", "y"],	
	0x5a: ["Z", "z"],	
	0x5b: ["["],	
	0x5c: ["{POUND}"],	
	0x5d: ["]"],
	0x5e: ["{UPARROW}"],
	0x5f: ["{LEFTARROW}"],
	0x60: ["{HORIZLINE1}"],
	0x61: ["{SPADE}","A"],
	0x62: ["{VERTLINE1}", "B"],
	0x63: ["{HORIZLINE2}", "C"],	
	0x64: ["{UKNWN1}", "D"],	
	0x65: ["{UKNWN2}", "E"],	
	0x66: ["{UKNWN3}", "F"],	
	0x67: ["{UKNWN4}", "G"],	
	0x68: ["{UKNWN5}", "H"],	
	0x69: ["{TRCRNRND}","I"],	
	0x6a: ["{BLCRNRND}","J"],	
	0x6b: ["{BRCRNRND}","K"],	
	0x6c: ["{UKNWN6}","L"],	
	0x6d: ["{TLBRLINE}","M"],	
	0x6e: ["{BLTRLINE}","N"],	
	0x6f: ["{UKNWN7}","O"],	
	0x70 : ["{UNKWN8}","P"],	
	0x71 : ["{CIRCLEFULL}","Q"],	
	0x72 : ["{UNKWN9}","R"],	
	0x73 : ["{HEART}","S"],	
	0x74 : ["{UNKWN0A}","T"],	
	0x75 : ["{TLCRNRND}","U"],	
	0x76 : ["{DIAGCROSS}","V"],	
	0x77 : ["{CIRCLEEMPTY}","W"],	
	0x78 : ["{CLUB}","X"], 
	0x79 : ["{UNKWN0B}","Y"],	
	0x7a : ["{DIAMOND}","Z"],	
	0x7b : ["{CROSS}"],
	0x7c : ["{UNKWN0C"],	 
	0x7d : ["{VERTLINE2}"],
	0x7e : ["{PI1}","{SHADED1}"],
	0x7f : ["{TRCRN}","{UNKWN0D"],
	0x80 : [],
	0x81: ["{ORG}"],
	0x82: [],
	0x83 : [],
	0x84 : [],
	0x85: ["{F1}"],	
	0x86: ["{F3}"],	
	0x87: ["{F5}"],	
	0x88: ["{F7}"],	
	0x89: ["{F2}"],	
	0x8a: ["{F4}"],	
	0x8b: ["{F6}"],	
	0x8c: ["{F8}"],	
	0x8d: ["\n"],
	0x8e: ["{Graphics}"],
	0x8f: [],
	0x90: ["{BLK}"],
	0x91: ["{UP"],	
	0x92: ["{RVSOFF}"],	
	0x93: ["{CLR}"],	
	0x94: ["{INS}"],  
	0x95: ["{BRN}"],	
	0x96: ["{LT RED}"],	
	0x97: ["{GRAY1}"],	
	0x98: ["{GRAY2}"],	
	0x99: ["{LT GRN}"],	
	0x9a: ["{LT BLU}"],	
	0x9b: ["{GRAY3}"],	
	0x9c: ["{PUR}"],	
	0x9d: ["{LEFT}"],	
	0x9e: ["{YEL}"],	
	0x9f: ["{CYN}"],
	0xa0: ["{SHFT_SP}"],
	0xa1: ["{LVERTBLKTHK}"],
	0xa2: ["{BHORIZBLKTHK}"],	
	0xa3: ["{HORIZSUPER}"],	
	0xa4: ["{HORIZSUB}"],	
	0xa5: ["{VERTLEFT}"],	
	0xa6: ["{SHADED2}"],	 
	0xa7: ["{VERTRIGHT}"],	
	0xa8: ["{UNKWN0E}"],
	0xa9: ["{TLCRN}","{UNKWN0F}"], 
	0xaa: ["{UNKWN10}"], 	
	0xab: ["{VERTLEFTINT}"],	
	0xac : ["{UNKWN11}"], 	
	0xad : ["{BRCRNLT}"],	
	0xae : ["{TLCRNLT}"],	
	0xaf : ["{HORIZSUBTHK}"],
	0xb0: ["{TLCRNLT}"],
	0xb1: ["{HORIZINTBOTTOM}"],
	0xb2: ["{HORIZINTTOP}"],	
	0xb3: ["{VERTINTRIGHT}"],	
	0xb4: ["{LVERTBLKMED}"],
	0xb5: ["{LVERTBLKTHK}"],
	0xb6: ["{UNKWN12}"],
	0xb7: ["{UNKWN13}"],	
	0xb8: ["{UNKWN14}"],
	0xb9: ["{BHORIZBLKTHK}"],	
	0xba: ["{UNKWN15}", "{CHECK1}"],
	0xbb: ["{UNKWN16}"],	
	0xbc: ["{UNKWN17}"],	
	0xbd: ["{BRCRNLT}"],
	0xbe: ["{UNKWN18}"],	
	0xbf: ["{UNKWN19}"],
	0xc0: ["{HORIZLINE2}"],
	0xc1: ["{SPADE}","A"], 
	0xc2: ["{VERTLINE3}","B"], 
	0xc3: ["{HORIZLINE3}","C"], 
	0xc4: ["{UNKWN1A}","D"],
	0xc5: ["{UNKWN1B}","E"], 
	0xc6: ["{UNKWN1C}","F"], 
	0xc7: ["{UNKWN1D}","G"], 
	0xc8: ["{UNKWN1E}","H"], 
	0xc9: ["{TRCRNRND}","I"], 
	0xca: ["{BLCRNRND}","J"], 
	0xcb: ["{BRCRNRND}","K"], 
	0xcc: ["{UNKWN1F}","L"], 
	0xcd: ["{TLBRLINE}","M"], 
	0xce: ["{BLTRLINE}","N"], 
	0xcf: ["{UNKWN20}","O"],
	0xd0: ["{UNKWN2}", "P"],	
	0xd1: ["{CIRCLEFILLED}","Q"],
	0xd2: ["{UNKWN2}","R"],	
	0xd3: ["{HEART}","S"],	
	0xd4: ["{UNKWN2}","T"],	
	0xd5: ["{TLCRNRND}","U"],	
	0xd6: ["{DIAGCROSS}","V"],	
	0xd7: ["{CIRCLEEMPTY}","W"],	
	0xd8: ["{CLUB}","X"],	
	0xd9: ["{UNKWN2}","Y"],	
	0xda: ["{DIAMOND}","Z"],	
	0xdb: ["{CROSS}"],
	0xdc: ["{UNKWN2}"],
	0xdd: ["{VERTBAR}"],
	0xde: ["{PI3}","{SHADED4}"],
	0xdf: ["{TRCRN}","{UNKWN2}"],
	0xe0: ["{CMDR_SP}"],
	0xe1: ["{LVERTBLKTHK2}"],	
	0xe2: ["{BHORIZBLKTHK2}"],
	0xe3: ["{HORIZSUPER2}"],
	0xe4: ["{HORIZSUB2}"],
	0xe5: ["{VERTLINELEFT2}"],	
	0xe6: ["{SHADED5}"],	 
	0xe7: ["{VERTLINERIGHT2}"],
	0xe8: ["{UNKWN2}"],	
	0xe9: ["{TLCRN3}"], 
	0xea: ["{UNKWN2}"],
	0xeb: ["{VERTLEFTINT2}"],
	0xec: ["{UNKWN2}"],
	0xed: ["{BLCRNLT3}"], 
	0xee: ["{TRCRNLT3}"],
	0xef: ["{BHORIZBLKMED2}"],
	0xf0: ["{TLCRNLTxF}"],
	0xf1: ["{HORIZBOTINTxF}"],	
	0xf2: ["{HORIZTOPINTxF}"],	
	0xf3: ["{VERTRIGHTINTxF}"],
	0xf4: ["{VERTBLKLEFTMEDxF}"],
	0xf5: ["{VERTBLKLEFTTHKxF}"],	
	0xf6: ["{UNKWNxF}"],
	0xf7: ["{UNKWNxF}"],
	0xf8: ["{UNKWNxF}"],
	0xf9: ["{HORIZBLKMEDxF}"],	
	0xfa: ["{UNKWNxF}"],
	0xfb: ["{CHECK}","{UNKWNxF}"],	
	0xfc: ["{UNKWNxF}"],
	0xfd: ["{BRCRNLTxF}"],	
	0xfe: ["{UNKWNxF}"],
	0xff: ["{PIxF}","{SHADEDxF}"]
}

## petscii
def oldascii2petscii_c(char):
	Character = ord(char)
	if ((Character >= 0x5b) and (Character <= 0x7e)):
		Character = Character ^ 0x20
	else:
		if ((Character >= 'A') and (Character <= 'Z')):         # /* C0 - DF */
			character =  Character | 0x80
	
	return chr(Character)

def getpetspecial(charname,shifted=False):
	## return asc2petc(charname,shifted)
	return ""
	
def asc2pet(s,shifted=False):
	rv = ""
	for c in s:
		rv = rv + asc2petc( c,shifted )
	return rv

def asc2petc(char,shifted=False):
	rv = ""
	for key in petscii.keys():
		value = petscii[key]
		if not value == []:
			if len(value) == 2:
				if value[1] == char:
					rv = unicode(chr(key),errors='ignore')
					rv = "" + chr(key)
			if len(value) == 1:
				if value[0] == char:
					rv = unicode(chr(key),errors='ignore') ## ,"latin_1","ignore")
					rv = "" + chr(key)
	return rv
	
	
def pet2ascc(char,shifted=False):
	char = char & 0xff
	ascii = petscii[char]
	rv = ""
	## we have either a null, a value or a shifted/unshited rep
	if len(ascii) == 0:	
		rv = ""
	if len(ascii) == 1:
		rv = ascii[0]
	if len(ascii) == 2:
		if shifted:
			rv = ascii[1]
		else:
			rv = ascii[0]
	return rv
		
		
def pet2asc(s,shifted=False):
	rv = ""
	for c in s:
		rv = rv + pet2ascc(ord(c ),shifted)
	return rv

## print pet2asc(asc2pet("Hello World!"),True)
